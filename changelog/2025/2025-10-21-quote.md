---
icon: sparkles
layout:
  title:
    visible: true
  description:
    visible: true
  tableOfContents:
    visible: true
  outline:
    visible: false
  pagination:
    visible: true
---

# 2025-10-21: Quote Service - external prices and mixins support

## Overview

The Quote Service has been extended to support external prices and mixins on product and item levels. This enhancement allows for more flexible quote management with custom pricing and additional product metadata.

Key changes:
- A product can be added to quote more than once
- Added support for carts with external products and prices
- Added support for external prices with the `type` field (INTERNAL/EXTERNAL) on price objects
- Added mixins and metadata support on both product and item levels
- Added new scope requirement `cart.cart_manage_external_prices` for external prices
- Extended PATCH operations to support mixin updates on items and products
- Added `id` field to media objects

## Modified endpoints

| Endpoint                                                                                                                                                           | Description                                                                                                                                                                                                                                      |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [Creating a quote](https://developer.emporix.io/api-references/api-guides/quotes/quote/api-reference/quote-management#post-quote-tenant-quotes)                    | Added `type` field to price and product objects. Added `cart.cart_manage_external_prices` scope for external prices. Added mixins and metadata support on item and product levels. Added `name` and `media` fields for external products.        |
| [Retrieving a single quote](https://developer.emporix.io/api-references/api-guides/quotes/quote/api-reference/quote-management#get-quote-tenant-quotes-quoteid)    | Added `type` field to price and product objects in response. Added mixins and metadata to item and product objects. Added `id` field to media object.                                                                                            |
| [Retrieving quotes](https://developer.emporix.io/api-references/api-guides/quotes/quote/api-reference/quote-management#get-quote-tenant-quotes)                    | Added `id` field to media object in response.                                                                                                                                                                                                    |
| [Partially updating a quote](https://developer.emporix.io/api-references/api-guides/quotes/quote/api-reference/quote-management#patch-quote-tenant-quotes-quoteid) | Added support for mixin operations with new paths: `/items/{itemId}/mixins/{mixinsPath}`, `/items/{itemId}/metadata/mixins/{mixinsPath}`, `/items/{itemId}/product/mixins/{mixinsPath}`, `/items/{itemId}/product/metadata/mixins/{mixinsPath}`. |

## New features

### External prices
Prices can now be defined as `INTERNAL` (from Price Service) or `EXTERNAL` (custom prices). The `type` field on price objects indicates the price type:
- `INTERNAL`: Price is fetched from the Price Service using `priceId` (required)
- `EXTERNAL`: Custom price provided directly in the request (priceId not required)

### External products
Products can now be defined as `INTERNAL` (from Product Service) or `EXTERNAL` (custom products). For external products:
- `name` field can be provided as a localized map
- `media` object can be provided with `id`, `contentType`, and `url` fields

### Mixins support
Mixins and metadata can now be added to:
- Quote items
- Products within quote items
- Quote level (already supported)

PATCH operations support adding, replacing, and removing mixin values at all these levels.

## Known problems

There are no known problems.

